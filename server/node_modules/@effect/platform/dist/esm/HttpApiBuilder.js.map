{"version":3,"file":"HttpApiBuilder.js","names":["AST","ParseResult","Schema","Chunk","Context","Effect","Encoding","FiberRef","identity","globalValue","Layer","Option","pipeArguments","Redacted","unify","HttpApi","HttpApiEndpoint","HttpApiDecodeError","HttpApiSchema","HttpApp","HttpMethod","HttpMiddleware","HttpRouter","HttpServer","HttpServerRequest","HttpServerResponse","OpenApi","Router","Tag","serve","middleware","httpApp","pipe","map","unwrapEffect","provide","Live","gen","api","router","apiMiddleware","serviceOption","Middleware","errorSchema","makeErrorSchema","encodeError","encodeUnknown","_tag","value","catchAll","error","matchEffect","onFailure","die","onSuccess","succeed","self","HandlersTypeId","Symbol","for","HandlersProto","_Endpoints","arguments","makeHandlers","options","Object","create","group","handlers","groupName","build","use","context","findFirst","groups","identifier","Error","result","empty","isEffect","routes","item","route","handler","push","handlerToRoute","endpoint","request","mapInputContext","input","merge","withFullResponse","concat","fromIterable","handle","name","o","endpoints","append","middlewareAdd","current","getOption","withContext","middlewareAddNoContext","middlewareLayer","args","apiFirst","isHttpApi","add","effect","flatMap","middlewareLayerScoped","scoped","middlewareCors","cors","middlewareOpenApi","spec","fromApi","response","json","orDie","get","path","bearerLen","length","securityDecode","make","headers","authorization","slice","schema","Struct","key","String","decode","in","schemaSearchParams","schemaCookies","schemaHeaders","match","username","password","decodeBase64String","header","parts","split","securitySetCookie","stringValue","appendPreResponseHandler","_req","setCookie","secure","httpOnly","middlewareSecurity","tag","f","provideServiceEffect","middlewareSecurityVoid","zipRight","requestPayload","urlParams","isMultipart","hasBody","method","multipart","isFullResponse","decodePath","pathSchema","decodeUnknown","payloadSchema","getMultipart","ast","getOrElse","decodePayload","decodeHeaders","headersSchema","encoding","getEncoding","successSchema","successStatus","getStatusSuccess","encodeSuccess","schemaSuccess","encode","kind","body","status","contentType","text","data","uint8Array","params","makeRoute","withFiberRuntime","fiber","getFiberRef","currentContext","unsafeGet","routeContext","RouteContext","ParsedSearchParams","refailParseError","bindTo","bind","_","raw","pathParams","payload","as","astCache","WeakMap","schemas","Set","processSchema","has","astType","types","annotations","set","Union","getStatusError","encoded","encodedAST","isEmpty","transformOrFail","Any","__","fail","Forbidden","mapError","Type"],"sources":["../../src/HttpApiBuilder.ts"],"sourcesContent":[null],"mappings":"AAAA;;;AAGA,OAAO,KAAKA,GAAG,MAAM,oBAAoB;AACzC,OAAO,KAAKC,WAAW,MAAM,4BAA4B;AACzD,OAAO,KAAKC,MAAM,MAAM,uBAAuB;AAC/C,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,OAAO,KAAKC,OAAO,MAAM,gBAAgB;AACzC,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAC3C,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAC3C,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,WAAW,QAAQ,oBAAoB;AAChD,OAAO,KAAKC,KAAK,MAAM,cAAc;AACrC,OAAO,KAAKC,MAAM,MAAM,eAAe;AACvC,SAAwBC,aAAa,QAAQ,iBAAiB;AAE9D,OAAO,KAAKC,QAAQ,MAAM,iBAAiB;AAG3C,SAASC,KAAK,QAAQ,cAAc;AAGpC,OAAO,KAAKC,OAAO,MAAM,cAAc;AACvC,OAAO,KAAKC,eAAe,MAAM,sBAAsB;AACvD,SAASC,kBAAkB,QAAQ,mBAAmB;AAEtD,OAAO,KAAKC,aAAa,MAAM,oBAAoB;AAEnD,OAAO,KAAKC,OAAO,MAAM,cAAc;AACvC,OAAO,KAAKC,UAAU,MAAM,iBAAiB;AAC7C,OAAO,KAAKC,cAAc,MAAM,qBAAqB;AACrD,OAAO,KAAKC,UAAU,MAAM,iBAAiB;AAC7C,OAAO,KAAKC,UAAU,MAAM,iBAAiB;AAC7C,OAAO,KAAKC,iBAAiB,MAAM,wBAAwB;AAC3D,OAAO,KAAKC,kBAAkB,MAAM,yBAAyB;AAC7D,OAAO,KAAKC,OAAO,MAAM,cAAc;AAGvC;;;;;;AAMA,OAAM,MAAOC,MAAO,sBAAQL,UAAU,CAACM,GAAG,CAAC,wCAAwC,CAAC,EAAU;AAE9F;;;;;;;;;;AAUA,OAAO,MAAMC,KAAK,GAYbC,UAAmE,IAKtEC,OAAO,CAACC,IAAI,CACV3B,MAAM,CAAC4B,GAAG,CAACV,UAAU,CAACM,KAAK,CAACC,UAAW,CAAC,CAAC,EACzCpB,KAAK,CAACwB,YAAY,EAClBxB,KAAK,CAACyB,OAAO,CAACR,MAAM,CAACS,IAAI,CAAC,CAC3B;AAEH;;;;;;AAMA,OAAO,MAAML,OAAO,gBAIhB1B,MAAM,CAACgC,GAAG,CAAC,aAAS;EACtB,MAAMC,GAAG,GAAG,OAAOvB,OAAO,CAACA,OAAO;EAClC,MAAMwB,MAAM,GAAG,OAAOZ,MAAM,CAACY,MAAM;EACnC,MAAMC,aAAa,GAAG,OAAOnC,MAAM,CAACoC,aAAa,CAACC,UAAU,CAAC;EAC7D,MAAMC,WAAW,GAAGC,eAAe,CAACN,GAAU,CAAC;EAC/C,MAAMO,WAAW,GAAG3C,MAAM,CAAC4C,aAAa,CAACH,WAAW,CAAC;EACrD,OAAOJ,MAAM,CAACP,IAAI,CAChBQ,aAAa,CAACO,IAAI,KAAK,MAAM,GAAGP,aAAa,CAACQ,KAAK,GAAGxC,QAAQ,EAC9DH,MAAM,CAAC4C,QAAQ,CAAEC,KAAK,IACpB7C,MAAM,CAAC8C,WAAW,CAACN,WAAW,CAACK,KAAK,CAAC,EAAE;IACrCE,SAAS,EAAEA,CAAA,KAAM/C,MAAM,CAACgD,GAAG,CAACH,KAAK,CAAC;IAClCI,SAAS,EAAEjD,MAAM,CAACkD;GACnB,CAAC,CACH,CACF;AACH,CAAC,CAAC;AAEF;;;;;;;;;;;AAWA,OAAO,MAAMjB,GAAG,GACdkB,IAA4C,IAE5C9C,KAAK,CAAC6C,OAAO,CAACxC,OAAO,CAACA,OAAO,EAAEyC,IAAI,CAAQ;AAE7C;;;;AAIA,OAAO,MAAMC,cAAc,gBAAkBC,MAAM,CAACC,GAAG,CAAC,0CAA0C,CAAC;AAoDnG,MAAMC,aAAa,GAAG;EACpB,CAACH,cAAc,GAAG;IAChBI,UAAU,EAAErD;GACb;EACDwB,IAAIA,CAAA;IACF,OAAOpB,aAAa,CAAC,IAAI,EAAEkD,SAAS,CAAC;EACvC;CACD;AAED,MAAMC,YAAY,GAChBC,OAGC,IAC4B;EAC7B,MAAMR,IAAI,GAAGS,MAAM,CAACC,MAAM,CAACN,aAAa,CAAC;EACzCJ,IAAI,CAACW,KAAK,GAAGH,OAAO,CAACG,KAAK;EAC1BX,IAAI,CAACY,QAAQ,GAAGJ,OAAO,CAACI,QAAQ;EAChC,OAAOZ,IAAI;AACb,CAAC;AAED;;;;;;;;;;;AAWA,OAAO,MAAMW,KAAK,GAAGA,CASnB7B,GAAiD,EACjD+B,SAAe,EACfC,KAIkH,KAMlH3C,MAAM,CAAC4C,GAAG,CAAEhC,MAAM,IAChBlC,MAAM,CAACgC,GAAG,CAAC,aAAS;EAClB,MAAMmC,OAAO,GAAG,OAAOnE,MAAM,CAACmE,OAAO,EAAO;EAC5C,MAAML,KAAK,GAAGhE,KAAK,CAACsE,SAAS,CAACnC,GAAG,CAACoC,MAAM,EAAGP,KAAK,IAAKA,KAAK,CAACQ,UAAU,KAAKN,SAAS,CAAC;EACpF,IAAIF,KAAK,CAACpB,IAAI,KAAK,MAAM,EAAE;IACzB,MAAM,IAAI6B,KAAK,CAAC,UAAUP,SAAS,oBAAoB,CAAC;EAC1D;EACA,MAAMQ,MAAM,GAAGP,KAAK,CAACP,YAAY,CAAC;IAAEI,KAAK,EAAEA,KAAK,CAACnB,KAAY;IAAEoB,QAAQ,EAAEjE,KAAK,CAAC2E,KAAK;EAAE,CAAE,CAAC,CAAC;EAC1F,MAAMV,QAAQ,GAAG/D,MAAM,CAAC0E,QAAQ,CAACF,MAAM,CAAC,GAAI,OAAOA,MAAM,GAAIA,MAAM;EACnE,MAAMG,MAAM,GAAsC,EAAE;EACpD,KAAK,MAAMC,IAAI,IAAIb,QAAQ,CAACA,QAAQ,EAAE;IACpC,IAAIa,IAAI,CAAClC,IAAI,KAAK,YAAY,EAAE;MAC9B,KAAK,MAAMmC,KAAK,IAAIF,MAAM,EAAE;QAC1B;QAAEE,KAA6C,CAACC,OAAO,GAAGF,IAAI,CAACnD,UAAU,CAACoD,KAAK,CAACC,OAAc,CAAC;MACjG;IACF,CAAC,MAAM;MACLH,MAAM,CAACI,IAAI,CAACC,cAAc,CACxBJ,IAAI,CAACK,QAAQ,EACb,UAASC,OAAO;QACd,OAAOlF,MAAM,CAACmF,eAAe,CAC3BP,IAAI,CAACE,OAAO,CAACI,OAAO,CAAC,EACpBE,KAAK,IAAKrF,OAAO,CAACsF,KAAK,CAAClB,OAAO,EAAEiB,KAAK,CAAC,CACzC;MACH,CAAC,EACDR,IAAI,CAACU,gBAAgB,CACtB,CAAC;IACJ;EACF;EACA,OAAOpD,MAAM,CAACqD,MAAM,CAACtE,UAAU,CAACuE,YAAY,CAACb,MAAM,CAAC,CAAC;AACvD,CAAC,CAAC,CACI;AAEV;;;;;;AAMA,OAAO,MAAMc,MAAM,GAoBfA,CACFC,IAAU,EACVZ,OAA+E,EAC/EnB,OAEC,KAGDR,IAAiC,IAK/B;EACF,MAAMwC,CAAC,GAAG7F,KAAK,CAACsE,SAAS,CAACjB,IAAI,CAACW,KAAK,CAAC8B,SAAS,EAAGX,QAAQ,IAAKA,QAAQ,CAACS,IAAI,KAAKA,IAAI,CAAC;EACrF,IAAIC,CAAC,CAACjD,IAAI,KAAK,MAAM,EAAE;IACrB,MAAM,IAAI6B,KAAK,CAAC,aAAamB,IAAI,yBAAyBvC,IAAI,CAACW,KAAK,CAACQ,UAAU,GAAG,CAAC;EACrF;EACA,MAAMW,QAAQ,GAAGU,CAAC,CAAChD,KAAK;EACxB,OAAOe,YAAY,CAAC;IAClBI,KAAK,EAAEX,IAAI,CAACW,KAAK;IACjBC,QAAQ,EAAEjE,KAAK,CAAC+F,MAAM,CAAC1C,IAAI,CAACY,QAAQ,EAAE;MACpCrB,IAAI,EAAE,SAAS;MACfuC,QAAQ;MACRH,OAAO;MACPQ,gBAAgB,EAAE3B,OAAO,EAAE2B,gBAAgB,KAAK;KACjD;GACF,CAAC;AACJ,CAAC;AAED;;;;;;;;;;AAUA,OAAO,MAAM7D,UAAU,GACNA,UAA6C,IAE1D0B,IAA+B,IAE/BO,YAAY,CAAqE;EAC/E,GAAGP,IAAW;EACdY,QAAQ,EAAEjE,KAAK,CAAC+F,MAAM,CAAC1C,IAAI,CAACY,QAAQ,EAAE;IACpCrB,IAAI,EAAE,YAAY;IAClBjB;GACD;CACF,CAAC;AAEN;;;;AAIA,OAAM,MAAOY,UAAW,sBAAQtC,OAAO,CAACwB,GAAG,CAAC,4CAA4C,CAAC,EAGtF;AAgBH,MAAMuE,aAAa,GAAIrE,UAAyC,IAC9DzB,MAAM,CAAC4B,GAAG,CACR5B,MAAM,CAACmE,OAAO,EAAS,EACtBA,OAAO,IAAI;EACV,MAAM4B,OAAO,GAAGhG,OAAO,CAACiG,SAAS,CAAC7B,OAAO,EAAE9B,UAAU,CAAC;EACtD,MAAM4D,WAAW,GAAmCvE,OAAO,IACzD1B,MAAM,CAACmF,eAAe,CAAC1D,UAAU,CAACC,OAAO,CAAC,EAAG0D,KAAK,IAAKrF,OAAO,CAACsF,KAAK,CAAClB,OAAO,EAAEiB,KAAK,CAAC,CAAC;EACvF,OAAOW,OAAO,CAACrD,IAAI,KAAK,MAAM,GAAGuD,WAAW,GAAIvE,OAAO,IAAKuE,WAAW,CAACF,OAAO,CAACpD,KAAK,CAACjB,OAAO,CAAC,CAAC;AACjG,CAAC,CACF;AAEH,MAAMwE,sBAAsB,GAC1BzE,UAAyC,IAEzCzB,MAAM,CAAC4B,GAAG,CACR5B,MAAM,CAACoC,aAAa,CAACC,UAAU,CAAC,EAC/B0D,OAAO,IAAmC;EACzC,OAAOA,OAAO,CAACrD,IAAI,KAAK,MAAM,GAAGjB,UAAU,GAAIC,OAAO,IAAKD,UAAU,CAACsE,OAAO,CAACpD,KAAK,CAACjB,OAAO,CAAC,CAAC;AAC/F,CAAC,CACF;AAEH;;;;;;AAMA,OAAO,MAAMyE,eAAe,GA2BxBA,CACF,GAAGC,IAWF,KACM;EACP,MAAMC,QAAQ,GAAG3F,OAAO,CAAC4F,SAAS,CAACF,IAAI,CAAC,CAAC,CAAC,CAAC;EAC3C,MAAMH,WAAW,GAAGI,QAAQ,GAAGD,IAAI,CAAC,CAAC,CAAC,EAAEH,WAAW,KAAK,IAAI,GAAIG,IAAY,CAAC,CAAC,CAAC,EAAEH,WAAW,KAAK,IAAI;EACrG,MAAMM,GAAG,GAAGN,WAAW,GAAGH,aAAa,GAAGI,sBAAsB;EAChE,MAAMzE,UAAU,GAAG4E,QAAQ,GAAGD,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC;EAC/C,OAAOpG,MAAM,CAAC0E,QAAQ,CAACjD,UAAU,CAAC,GAC9BpB,KAAK,CAACmG,MAAM,CAACnE,UAAU,EAAErC,MAAM,CAACyG,OAAO,CAAChF,UAAiB,EAAE8E,GAAG,CAAC,CAAC,GAChElG,KAAK,CAACmG,MAAM,CAACnE,UAAU,EAAEkE,GAAG,CAAC9E,UAAiB,CAAC,CAAC;AACtD,CAAC;AAED;;;;;;;AAOA,OAAO,MAAMiF,qBAAqB,GA2B9BA,CACF,GAAGN,IAWF,KACM;EACP,MAAMC,QAAQ,GAAG3F,OAAO,CAAC4F,SAAS,CAACF,IAAI,CAAC,CAAC,CAAC,CAAC;EAC3C,MAAMH,WAAW,GAAGI,QAAQ,GAAGD,IAAI,CAAC,CAAC,CAAC,EAAEH,WAAW,KAAK,IAAI,GAAIG,IAAY,CAAC,CAAC,CAAC,EAAEH,WAAW,KAAK,IAAI;EACrG,MAAMM,GAAG,GAAGN,WAAW,GAAGH,aAAa,GAAGI,sBAAsB;EAChE,MAAMzE,UAAU,GAAG4E,QAAQ,GAAGD,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC;EAC/C,OAAO/F,KAAK,CAACsG,MAAM,CAACtE,UAAU,EAAErC,MAAM,CAACyG,OAAO,CAAChF,UAAiB,EAAE8E,GAAG,CAAC,CAAC;AACzE,CAAC;AAED;;;;;;AAMA,OAAO,MAAMK,cAAc,GACzBjD,OAOa,IACUwC,eAAe,CAACnF,cAAc,CAAC6F,IAAI,CAAClD,OAAO,CAAC,CAAC;AAEtE;;;;;;AAMA,OAAO,MAAMmD,iBAAiB,GAC5BnD,OAEa,IAEbrC,MAAM,CAAC4C,GAAG,CAAEhC,MAAM,IAChBlC,MAAM,CAACgC,GAAG,CAAC,aAAS;EAClB,MAAMC,GAAG,GAAG,OAAOvB,OAAO,CAACA,OAAO;EAClC,MAAMqG,IAAI,GAAG1F,OAAO,CAAC2F,OAAO,CAAC/E,GAAG,CAAC;EACjC,MAAMgF,QAAQ,GAAG,OAAO7F,kBAAkB,CAAC8F,IAAI,CAACH,IAAI,CAAC,CAACpF,IAAI,CACxD3B,MAAM,CAACmH,KAAK,CACb;EACD,OAAOjF,MAAM,CAACkF,GAAG,CAACzD,OAAO,EAAE0D,IAAI,IAAI,eAAe,EAAErH,MAAM,CAACkD,OAAO,CAAC+D,QAAQ,CAAC,CAAC;AAC/E,CAAC,CAAC,CACH;AAYH,MAAMK,SAAS,GAAG,SAAS,CAACC,MAAM;AAElC;;;;AAIA,OAAO,MAAMC,cAAc,GACzBrE,IAAc,IAKZ;EACF,QAAQA,IAAI,CAACT,IAAI;IACf,KAAK,QAAQ;MAAE;QACb,OAAO1C,MAAM,CAAC4B,GAAG,CACfT,iBAAiB,CAACA,iBAAiB,EAClC+D,OAAO,IAAK1E,QAAQ,CAACiH,IAAI,CAAC,CAACvC,OAAO,CAACwC,OAAO,CAACC,aAAa,IAAI,EAAE,EAAEC,KAAK,CAACN,SAAS,CAAC,CAAQ,CAC1F;MACH;IACA,KAAK,QAAQ;MAAE;QACb,MAAMO,MAAM,GAAGhI,MAAM,CAACiI,MAAM,CAAC;UAC3B,CAAC3E,IAAI,CAAC4E,GAAG,GAAGlI,MAAM,CAACmI;SACpB,CAAC;QACF,MAAMC,MAAM,GAAGxH,KAAK,CAClB0C,IAAI,CAAC+E,EAAE,KAAK,OAAO,GACf/G,iBAAiB,CAACgH,kBAAkB,CAACN,MAAM,CAAC,GAC5C1E,IAAI,CAAC+E,EAAE,KAAK,QAAQ,GACpB/G,iBAAiB,CAACiH,aAAa,CAACP,MAAM,CAAC,GACvC1G,iBAAiB,CAACkH,aAAa,CAACR,MAAM,CAAC,CAC5C;QACD,OAAO7H,MAAM,CAACsI,KAAK,CAACL,MAAM,EAAE;UAC1BlF,SAAS,EAAEA,CAAA,KAAMvC,QAAQ,CAACiH,IAAI,CAAC,EAAE,CAAQ;UACzCxE,SAAS,EAAGqF,KAAK,IAAK9H,QAAQ,CAACiH,IAAI,CAACa,KAAK,CAACnF,IAAI,CAAC4E,GAAG,CAAC;SACpD,CAAC;MACJ;IACA,KAAK,OAAO;MAAE;QACZ,MAAMtD,KAAK,GAAmD;UAC5D8D,QAAQ,EAAE,EAAE;UACZC,QAAQ,EAAEhI,QAAQ,CAACiH,IAAI,CAAC,EAAE;SACpB;QACR,OAAOtG,iBAAiB,CAACA,iBAAiB,CAACQ,IAAI,CAC7C3B,MAAM,CAACyG,OAAO,CAAEvB,OAAO,IAAKjF,QAAQ,CAACwI,kBAAkB,CAACvD,OAAO,CAACwC,OAAO,CAACC,aAAa,IAAI,EAAE,CAAC,CAAC,EAC7F3H,MAAM,CAACsI,KAAK,CAAC;UACXvF,SAAS,EAAEA,CAAA,KAAM0B,KAAK;UACtBxB,SAAS,EAAGyF,MAAM,IAAI;YACpB,MAAMC,KAAK,GAAGD,MAAM,CAACE,KAAK,CAAC,GAAG,CAAC;YAC/B,IAAID,KAAK,CAACpB,MAAM,KAAK,CAAC,EAAE;cACtB,OAAO9C,KAAK;YACd;YACA,OAAO;cACL8D,QAAQ,EAAEI,KAAK,CAAC,CAAC,CAAC;cAClBH,QAAQ,EAAEhI,QAAQ,CAACiH,IAAI,CAACkB,KAAK,CAAC,CAAC,CAAC;aAC1B;UACV;SACD,CAAC,CACH;MACH;EACF;AACF,CAAC;AAED;;;;;;;;;;;;;;;AAeA,OAAO,MAAME,iBAAiB,GAAGA,CAC/B1F,IAA4B,EAC5BR,KAAiC,EACjCgB,OAA2B,KACJ;EACvB,MAAMmF,WAAW,GAAG,OAAOnG,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAGnC,QAAQ,CAACmC,KAAK,CAACA,KAAK,CAAC;EAC7E,OAAO7B,OAAO,CAACiI,wBAAwB,CAAC,CAACC,IAAI,EAAE/B,QAAQ,KACrDjH,MAAM,CAACmH,KAAK,CACV/F,kBAAkB,CAAC6H,SAAS,CAAChC,QAAQ,EAAE9D,IAAI,CAAC4E,GAAG,EAAEe,WAAW,EAAE;IAC5DI,MAAM,EAAE,IAAI;IACZC,QAAQ,EAAE,IAAI;IACd,GAAGxF;GACJ,CAAC,CACH,CACF;AACH,CAAC;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAO,MAAMyF,kBAAkB,GAAGA,CAChCjG,IAAc,EACdkG,GAAsB,EACtBC,CAE6B,KAE7B7H,UAAU,CAACzB,MAAM,CAACuJ,oBAAoB,CACpCF,GAAG,EACHrJ,MAAM,CAACyG,OAAO,CAACe,cAAc,CAACrE,IAAI,CAAC,EAAEmG,CAAC,CAAC,CACxC,CAAkC;AAErC;;;;;;;;;AASA,OAAO,MAAME,sBAAsB,GAAGA,CACpCrG,IAAc,EACdmG,CAE6B,KAE7B7H,UAAU,CAAEC,OAAO,IACjB8F,cAAc,CAACrE,IAAI,CAAC,CAACxB,IAAI,CACvB3B,MAAM,CAACyG,OAAO,CAAC6C,CAAC,CAAC,EACjBtJ,MAAM,CAACyJ,QAAQ,CAAC/H,OAAO,CAAC,CACzB,CACmC;AAExC;AAEA,MAAMgI,cAAc,GAAGA,CACrBxE,OAA4C,EAC5CyE,SAAyD,EACzDC,WAAoB,KAQpB7I,UAAU,CAAC8I,OAAO,CAAC3E,OAAO,CAAC4E,MAAM,CAAC,GAC9BF,WAAW,GACT5J,MAAM,CAACmH,KAAK,CAACjC,OAAO,CAAC6E,SAAS,CAAC,GAC/B/J,MAAM,CAACmH,KAAK,CAACjC,OAAO,CAACgC,IAAI,CAAC,GAC5BlH,MAAM,CAACkD,OAAO,CAACyG,SAAS,CAAC;AAE/B,MAAM3E,cAAc,GAAGA,CACrBC,QAA6C,EAC7CH,OAA+D,EAC/DkF,cAAuB,KACO;EAC9B,MAAMC,UAAU,GAAG3J,MAAM,CAACsB,GAAG,CAACqD,QAAQ,CAACiF,UAAU,EAAErK,MAAM,CAACsK,aAAa,CAAC;EACxE,MAAMP,WAAW,GAAG3E,QAAQ,CAACmF,aAAa,CAACzI,IAAI,CAC7CrB,MAAM,CAACsB,GAAG,CAAEiG,MAAM,IAAKhH,aAAa,CAACwJ,YAAY,CAACxC,MAAM,CAACyC,GAAG,CAAC,CAAC,EAC9DhK,MAAM,CAACiK,SAAS,CAAC,MAAM,KAAK,CAAC,CAC9B;EACD,MAAMC,aAAa,GAAGlK,MAAM,CAACsB,GAAG,CAACqD,QAAQ,CAACmF,aAAa,EAAEvK,MAAM,CAACsK,aAAa,CAAC;EAC9E,MAAMM,aAAa,GAAGnK,MAAM,CAACsB,GAAG,CAACqD,QAAQ,CAACyF,aAAa,EAAE7K,MAAM,CAACsK,aAAa,CAAC;EAC9E,MAAMQ,QAAQ,GAAG9J,aAAa,CAAC+J,WAAW,CAAC3F,QAAQ,CAAC4F,aAAa,CAACP,GAAG,CAAC;EACtE,MAAMQ,aAAa,GAAGjK,aAAa,CAACkK,gBAAgB,CAAC9F,QAAQ,CAAC4F,aAAa,CAAC;EAC5E,MAAMG,aAAa,GAAG1K,MAAM,CAACsB,GAAG,CAACjB,eAAe,CAACsK,aAAa,CAAChG,QAAQ,CAAC,EAAG4C,MAAM,IAAI;IACnF,MAAMqD,MAAM,GAAGrL,MAAM,CAAC4C,aAAa,CAACoF,MAAM,CAAC;IAC3C,QAAQ8C,QAAQ,CAACQ,IAAI;MACnB,KAAK,MAAM;QAAE;UACX,OAAQC,IAAa,IACnBpL,MAAM,CAACmH,KAAK,CACVnH,MAAM,CAACyG,OAAO,CAACyE,MAAM,CAACE,IAAI,CAAC,EAAGlE,IAAI,IAChC9F,kBAAkB,CAAC8F,IAAI,CAACA,IAAI,EAAE;YAC5BmE,MAAM,EAAEP,aAAa;YACrBQ,WAAW,EAAEX,QAAQ,CAACW;WACvB,CAAC,CAAC,CACN;QACL;MACA,KAAK,MAAM;QAAE;UACX,OAAQF,IAAa,IACnBpL,MAAM,CAAC4B,GAAG,CAAC5B,MAAM,CAACmH,KAAK,CAAC+D,MAAM,CAACE,IAAI,CAAC,CAAC,EAAGG,IAAI,IAC1CnK,kBAAkB,CAACmK,IAAI,CAACA,IAAW,EAAE;YACnCF,MAAM,EAAEP,aAAa;YACrBQ,WAAW,EAAEX,QAAQ,CAACW;WACvB,CAAC,CAAC;QACT;MACA,KAAK,YAAY;QAAE;UACjB,OAAQF,IAAa,IACnBpL,MAAM,CAAC4B,GAAG,CAAC5B,MAAM,CAACmH,KAAK,CAAC+D,MAAM,CAACE,IAAI,CAAC,CAAC,EAAGI,IAAI,IAC1CpK,kBAAkB,CAACqK,UAAU,CAACD,IAAW,EAAE;YACzCH,MAAM,EAAEP,aAAa;YACrBQ,WAAW,EAAEX,QAAQ,CAACW;WACvB,CAAC,CAAC;QACT;MACA,KAAK,WAAW;QAAE;UAChB,OAAQF,IAAa,IACnBpL,MAAM,CAAC4B,GAAG,CAAC5B,MAAM,CAACmH,KAAK,CAAC+D,MAAM,CAACE,IAAI,CAAC,CAAC,EAAGM,MAAM,IAC5CtK,kBAAkB,CAACuI,SAAS,CAAC+B,MAAa,EAAE;YAC1CL,MAAM,EAAEP,aAAa;YACrBQ,WAAW,EAAEX,QAAQ,CAACW;WACvB,CAAC,CAAC;QACT;IACF;EACF,CAAC,CAAC;EACF,OAAOrK,UAAU,CAAC0K,SAAS,CACzB1G,QAAQ,CAAC6E,MAAM,EACf7E,QAAQ,CAACoC,IAAI,EACbrH,MAAM,CAAC4L,gBAAgB,CAAEC,KAAK,IAAI;IAChC,MAAM1H,OAAO,GAAG0H,KAAK,CAACC,WAAW,CAAC5L,QAAQ,CAAC6L,cAAc,CAAC;IAC1D,MAAM7G,OAAO,GAAGnF,OAAO,CAACiM,SAAS,CAAC7H,OAAO,EAAEhD,iBAAiB,CAACA,iBAAiB,CAAC;IAC/E,MAAM8K,YAAY,GAAGlM,OAAO,CAACiM,SAAS,CAAC7H,OAAO,EAAElD,UAAU,CAACiL,YAAY,CAAC;IACxE,MAAMvC,SAAS,GAAG5J,OAAO,CAACiM,SAAS,CAAC7H,OAAO,EAAEhD,iBAAiB,CAACgL,kBAAkB,CAAC;IAClF,OAAO,CAAClC,UAAU,CAACvH,IAAI,KAAK,MAAM,GAC9B1C,MAAM,CAAC4C,QAAQ,CAACqH,UAAU,CAACtH,KAAK,CAACsJ,YAAY,CAACP,MAAM,CAAC,EAAE9K,kBAAkB,CAACwL,gBAAgB,CAAC,GAC3FpM,MAAM,CAACkD,OAAO,CAAC+I,YAAY,CAACP,MAAM,CAAC,EAAE/J,IAAI,CACzC3B,MAAM,CAACqM,MAAM,CAAC,YAAY,CAAC,EAC3B7B,aAAa,CAAC9H,IAAI,KAAK,MAAM,GACzB1C,MAAM,CAACsM,IAAI,CAAC,SAAS,EAAGC,CAAC,IACzB7C,cAAc,CAACxE,OAAO,EAAEyE,SAAS,EAAEC,WAAW,CAAC,CAACjI,IAAI,CAClD3B,MAAM,CAACmH,KAAK,EACZnH,MAAM,CAACyG,OAAO,CAAE+F,GAAG,IAAKxM,MAAM,CAAC4C,QAAQ,CAAC4H,aAAa,CAAC7H,KAAK,CAAC6J,GAAG,CAAC,EAAE5L,kBAAkB,CAACwL,gBAAgB,CAAC,CAAC,CACxG,CAAC,GACFjM,QAAQ,EACZsK,aAAa,CAAC/H,IAAI,KAAK,MAAM,GACzB1C,MAAM,CAACsM,IAAI,CAAC,SAAS,EAAGC,CAAC,IAAKvM,MAAM,CAACmH,KAAK,CAACsD,aAAa,CAAC9H,KAAK,CAACuC,OAAO,CAACwC,OAAO,CAAC,CAAC,CAAC,GACjFvH,QAAQ,EACZH,MAAM,CAACyG,OAAO,CAAErB,KAAK,IAAI;MACvB,MAAMF,OAAO,GAAQ;QAAEmC,IAAI,EAAEjC,KAAK,CAACqH;MAAU,CAAE;MAC/C,IAAI,SAAS,IAAIrH,KAAK,EAAE;QACtBF,OAAO,CAACwH,OAAO,GAAGtH,KAAK,CAACsH,OAAO;MACjC;MACA,IAAI,SAAS,IAAItH,KAAK,EAAE;QACtBF,OAAO,CAACwC,OAAO,GAAGtC,KAAK,CAACsC,OAAO;MACjC;MACA,OAAO5C,OAAO,CAACI,OAAO,CAAC;IACzB,CAAC,CAAC,EACF8E,cAAc,GACZ7J,QAA4E,GAC5E6K,aAAa,CAACtI,IAAI,KAAK,MAAM,GAC3B1C,MAAM,CAACyG,OAAO,CAACuE,aAAa,CAACrI,KAAK,CAAC,GACnC3C,MAAM,CAAC2M,EAAE,CAACvL,kBAAkB,CAACqD,KAAK,CAAC;MAAE4G,MAAM,EAAEP;IAAa,CAAE,CAAC,CAAC,CACnE;EACL,CAAC,CAAC,CACH;AACH,CAAC;AAED,MAAM8B,QAAQ,gBAAGxM,WAAW,CAC1B,0CAA0C,EAC1C,MAAM,IAAIyM,OAAO,EAA8B,CAChD;AAED,MAAMtK,eAAe,GACnBN,GAAsG,IACrC;EACjE,MAAM6K,OAAO,GAAG,IAAIC,GAAG,EAAqB;EAC5C,SAASC,aAAaA,CAACnF,MAAyB;IAC9C,IAAI+E,QAAQ,CAACK,GAAG,CAACpF,MAAM,CAACyC,GAAG,CAAC,EAAE;MAC5BwC,OAAO,CAACvG,GAAG,CAACqG,QAAQ,CAACxF,GAAG,CAACS,MAAM,CAACyC,GAAG,CAAE,CAAC;MACtC;IACF;IACA,MAAMA,GAAG,GAAGzC,MAAM,CAACyC,GAAG;IACtB,IAAIA,GAAG,CAAC5H,IAAI,KAAK,OAAO,EAAE;MACxB,KAAK,MAAMwK,OAAO,IAAI5C,GAAG,CAAC6C,KAAK,EAAE;QAC/B,MAAM7K,WAAW,GAAGzC,MAAM,CAAC4H,IAAI,CAACyF,OAAO,CAAC,CAACE,WAAW,CAAC;UACnD,GAAG9C,GAAG,CAAC8C,WAAW;UAClB,GAAGF,OAAO,CAACE;SACZ,CAAC;QACFR,QAAQ,CAACS,GAAG,CAACH,OAAO,EAAE5K,WAAW,CAAC;QAClCwK,OAAO,CAACvG,GAAG,CAACjE,WAAW,CAAC;MAC1B;IACF,CAAC,MAAM;MACLsK,QAAQ,CAACS,GAAG,CAAC/C,GAAG,EAAEzC,MAAM,CAAC;MACzBiF,OAAO,CAACvG,GAAG,CAACsB,MAAM,CAAC;IACrB;EACF;EACAmF,aAAa,CAAC/K,GAAG,CAACK,WAAW,CAAC;EAC9B,KAAK,MAAMwB,KAAK,IAAI7B,GAAG,CAACoC,MAAM,EAAE;IAC9B,KAAK,MAAMY,QAAQ,IAAInB,KAAK,CAAC8B,SAAS,EAAE;MACtCoH,aAAa,CAAC/H,QAAQ,CAAC3C,WAAW,CAAC;IACrC;IACA0K,aAAa,CAAClJ,KAAK,CAACxB,WAAW,CAAC;EAClC;EACA,OAAOzC,MAAM,CAACyN,KAAK,CAAC,GAAG,CAAC,GAAGR,OAAO,CAAC,CAAClL,GAAG,CAAEiG,MAAM,IAAI;IACjD,MAAMwD,MAAM,GAAGxK,aAAa,CAAC0M,cAAc,CAAC1F,MAAM,CAAC;IACnD,MAAM2F,OAAO,GAAG7N,GAAG,CAAC8N,UAAU,CAAC5F,MAAM,CAACyC,GAAG,CAAC;IAC1C,MAAMoD,OAAO,GAAGF,OAAO,CAAC9K,IAAI,KAAK,aAAa;IAC9C,OAAO7C,MAAM,CAAC8N,eAAe,CAAC9N,MAAM,CAAC+N,GAAG,EAAE/F,MAAM,EAAE;MAChDI,MAAM,EAAEA,CAACsE,CAAC,EAAEsB,EAAE,EAAEvD,GAAG,KAAK1K,WAAW,CAACkO,IAAI,CAAC,IAAIlO,WAAW,CAACmO,SAAS,CAACzD,GAAG,EAAEiC,CAAC,EAAE,oBAAoB,CAAC,CAAC;MACjGrB,MAAM,EAAEA,CAACrI,KAAK,EAAE0J,CAAC,EAAEjC,GAAG,KACpBoD,OAAO,GACLtM,kBAAkB,CAACqD,KAAK,CAAC;QAAE4G;MAAM,CAAE,CAAC,GACpCjK,kBAAkB,CAAC8F,IAAI,CAACrE,KAAK,EAAE;QAAEwI;MAAM,CAAE,CAAC,CAAC1J,IAAI,CAC7C3B,MAAM,CAACgO,QAAQ,CAAEnL,KAAK,IAAK,IAAIjD,WAAW,CAACqO,IAAI,CAAC3D,GAAG,EAAEzH,KAAK,EAAE,0BAA0B,CAAC,CAAC;KAE/F,CAAC;EACJ,CAAC,CAAC,CAAQ;AACZ,CAAC","ignoreList":[]}