{"version":3,"file":"rcRef.js","names":["Context","_interopRequireWildcard","require","Duration","_Function","_Pipeable","coreEffect","core","circular","fiberRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","stateEmpty","_tag","stateClosed","variance","_A","identity","_E","RcRefImpl","acquire","context","scope","idleTimeToLive","state","semaphore","unsafeMakeSemaphore","constructor","pipe","pipeArguments","arguments","make","options","withFiberRuntime","fiber","getFiberRef","currentContext","scopeTag","ref","decode","undefined","as","addFinalizer","withPermits","suspend","close","scopeClose","exitVoid","void","self_","self","uninterruptibleMask","restore","interrupt","refCount","interruptFiber","succeed","scopeMake","bindTo","bind","fiberRefLocally","add","map","value","tap","sleep","interruptible","zipRight","ensuring","sync","forkIn"],"sources":["../../../src/internal/rcRef.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}