{"version":3,"file":"ref.js","names":["_Function","require","MutableRef","_interopRequireWildcard","Option","_Pipeable","Readable","core","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","RefTypeId","exports","Symbol","for","refVariance","_A","_","RefImpl","ref","TypeId","constructor","sync","modify","f","current","b","pipe","pipeArguments","arguments","unsafeMake","value","make","self","dual","getAndSet","getAndUpdate","getAndUpdateSome","pf","option","_tag","setAndGet","modifySome","fallback","update","updateAndGet","result","updateSome","match","onNone","onSome","updateSomeAndGet","unsafeGet"],"sources":["../../../src/internal/ref.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}