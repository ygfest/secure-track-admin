{"version":3,"file":"rcRef.js","names":["Context","Duration","identity","pipeArguments","coreEffect","core","circular","fiberRuntime","TypeId","Symbol","for","stateEmpty","_tag","stateClosed","variance","_A","_E","RcRefImpl","acquire","context","scope","idleTimeToLive","state","semaphore","unsafeMakeSemaphore","constructor","pipe","arguments","make","options","withFiberRuntime","fiber","getFiberRef","currentContext","get","scopeTag","ref","decode","undefined","as","addFinalizer","withPermits","suspend","close","scopeClose","exitVoid","void","self_","self","uninterruptibleMask","restore","interrupt","refCount","interruptFiber","succeed","scopeMake","bindTo","bind","fiberRefLocally","add","map","value","tap","sleep","interruptible","zipRight","ensuring","sync","forkIn"],"sources":["../../../src/internal/rcRef.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}